# PhitNetwork 2FA Service

The 2FA (Two-Factor Authentication) service provides an implementation for two-factor authentication via Google Authenticator and OTP (One-Time Password) code delivery via SMS using Twilio.

## API Usage

### User Registration

To register a new user and obtain a QR code for authentication with Google Authenticator:

**Endpoint**: `POST /register`

**Request Parameters**:
- `email`: User's email address.
- `number`: User's phone number for SMS delivery.

**Request Example**:

```json
{
    "email": "example@example.com",
    "number": "+1234567890"
}
```

**Response Example**:

```json
{
    "email": "example@example.com",
    "number": "+1234567890",
    "secret_key": "XXXXXXXXXXXXXXXX",
    "auth_url": "https://example.com/authenticate",
    "qrcode_url": "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://example.com/authenticate"
}
```

### User Removal

To remove a registered user:

**Endpoint**: `POST /unregister`

**Request Parameters**:
- `email`: User's email address to be removed.

**Request Example**:

```json
{
    "email": "example@example.com"
}
```

**Response Example**:

```json
{
    "message": "Email removed from 2FA"
}
```

### User Login

To authenticate the user using the OTP code generated by Google Authenticator:

**Endpoint**: `POST /login`

**Request Parameters**:
- `email`: User's email address.
- `otp_code`: OTP code generated by Google Authenticator.

**Request Example**:

```json
{
    "email": "example@example.com",
    "otp_code": "123456"
}
```

**Response Example**:

```json
{
    "message": "Authentication successful!"
}
```

### SMS Delivery

To send an OTP code via SMS to the user:

**Endpoint**: `POST /sms`

**Request Parameters**:
- `email`: User's email address.

**Request Example**:

```json
{
    "email": "example@example.com"
}
```

**Response Example**:

```json
{
    "message": "SMS sent successfully"
}
```

## Configuration

To use the 2FA service, proper Twilio service configuration is required. Ensure to provide correct credentials in the `twilio_credentials.json` file.
